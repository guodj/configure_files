LPFrame=function(){var h=0,e={};Topics.get(Topics.CLEAR_DATA).subscribe(function(){for(var a in e)LPFrame.close(a)});var g=function(a){var c=++h,d=document.createElement("iframe"),b=getchromeurl(a),b=b+((-1<b.indexOf("?")?"&":"?")+"dialogID="+c);g_isfirefoxsdk?d.setAttribute("lpsrc",b):d.src=b;d.style.border="none";d.style.position="relative";d.style.height="100%";d.style.width="100%";b=document.createElement("div");b.style.position="fixed";b.style["z-index"]="999999";b.style.display="none";b.style.width=
"100%";b.style.height="100%";b.appendChild(d);e[c]={container:b,params:Array.prototype.slice.call(arguments,1)};document.body.appendChild(b)};return{css:function(a){if(a){var c=e[a.id];if(c)for(var d in a.css){var b=c.container.style,g=d,f;f=a.css[d];f="string"===typeof f?f:"number"===typeof f?f+"px":"";b[g]=f}}"function"===typeof a.callback&&a.callback()},close:function(a){var c=e[a];c&&(c.container.remove(),delete e[a])},openDialog:function(a){g("contentScriptDialog.html",a)},openFrame:g,getDialogParams:function(a,
c){c.apply(window,e[a]?e[a].params:[])}}}();
