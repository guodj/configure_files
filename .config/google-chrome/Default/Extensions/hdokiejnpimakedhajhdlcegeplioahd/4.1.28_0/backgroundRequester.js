LPBackgroundRequester=function(h,d){var c=null,f=!1,g=[],e,j=function(a){if(a.contentScriptRequest)LPMessaging.handleRequest(Interfaces.ContentScriptInterface,a.contentScriptRequest,function(b){b={contentScriptResponse:b,frameID:a.sourceFrameID};b.sourceFrameID=c;e(b)});else if(a.contentScriptResponse)LPMessaging.handleResponse(a.contentScriptResponse);else if(null===c&&a.initialization){Topics.get(Topics.REQUEST_FRAMEWORK_INITIALIZED).publish(a.initialization);c=a.initialization.frameID;f=!1;for(var b=
0,d=g.length;b<d;++b)g[b]()}else a.backgroundResponse&&LPMessaging.handleResponse(a.backgroundResponse)},k=function(){if(d&&d.alwaysInitialize)return!0;if(document.body)for(var a=0,b=document.body.children.length;a<b;++a)switch(document.body.children[a].nodeName){default:return!0;case "SCRIPT":case "NOSCRIPT":case "STYLE":}return!1};this.initialize=function(a){null===c&&(!f&&k())&&(e=h(j),f=!0);a&&g.push(a)};this.sendRequest=function(a){null===c?this.initialize(function(){a.sourceFrameID=c;e(a)}):
(a.sourceFrameID=c,e(a))}};
